[{"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/index.js":"1","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/App.js":"2","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/serviceWorker.js":"3","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/Register/Register.jsx":"4","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/Login/Login.jsx":"5","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/firebase/config.js":"6","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Sidebar/Sidebar.js":"7","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Chat/Chat.js":"8","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Sidebar/SidebarChat/SidebarChat.js":"9","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/ChatRoom.jsx":"10","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ProtectedRoute.jsx":"11","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Sidebar/SidebarDropdown/SidebarDropdown.js":"12","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/store.js":"13","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/actionTypes.js":"14","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/reducers/contactsReducer.js":"15","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/actions/contactsActions.js":"16"},{"size":669,"mtime":1608522183586,"results":"17","hashOfConfig":"18"},{"size":1225,"mtime":1608479795578,"results":"19","hashOfConfig":"18"},{"size":5086,"mtime":1607573682863,"results":"20","hashOfConfig":"18"},{"size":5377,"mtime":1608473837924,"results":"21","hashOfConfig":"18"},{"size":4020,"mtime":1608479508642,"results":"22","hashOfConfig":"18"},{"size":1366,"mtime":1608358567233,"results":"23","hashOfConfig":"18"},{"size":3483,"mtime":1608524981460,"results":"24","hashOfConfig":"18"},{"size":2470,"mtime":1608426622080,"results":"25","hashOfConfig":"18"},{"size":370,"mtime":1608516709108,"results":"26","hashOfConfig":"18"},{"size":368,"mtime":1608479856615,"results":"27","hashOfConfig":"18"},{"size":544,"mtime":1608479817386,"results":"28","hashOfConfig":"18"},{"size":422,"mtime":1608518923161,"results":"29","hashOfConfig":"18"},{"size":366,"mtime":1608523746390,"results":"30","hashOfConfig":"18"},{"size":54,"mtime":1608523504987,"results":"31","hashOfConfig":"18"},{"size":325,"mtime":1608524760221,"results":"32","hashOfConfig":"18"},{"size":512,"mtime":1608525315565,"results":"33","hashOfConfig":"18"},{"filePath":"34","messages":"35","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"1m9t3bx",{"filePath":"36","messages":"37","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"38","usedDeprecatedRules":"39"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"42","messages":"43","errorCount":0,"warningCount":2,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"39"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"47","usedDeprecatedRules":"39"},{"filePath":"48","messages":"49","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"50","messages":"51","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"52","messages":"53","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"56","messages":"57","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"58","usedDeprecatedRules":"39"},{"filePath":"59","messages":"60","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"61","usedDeprecatedRules":"39"},{"filePath":"62","messages":"63","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"39"},{"filePath":"64","messages":"65","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"66","messages":"67","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"68","messages":"69","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"70","messages":"71","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/index.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/App.js",["72","73"],"import React, { useState, useEffect } from \"react\";\nimport \"./App.css\";\n//* Componentes\nimport Login from './components/Login/Login';\nimport Register from './components/Register/Register';\nimport ProtectedRoute from './components/ProtectedRoute';\n//* React Router\nimport {\n  BrowserRouter as Router,\n  Route,\n  Switch\n} from 'react-router-dom';\n\n\nfunction App() {\n  //! Estado global pendiente de mandar a store con redux\n  const [user, setUser] = useState(false);\n  const [messages, setMessages] = useState([]);\n\n  //+ Crear las rutas\n//{ /chat/:id (protegida)\n\n  const notFound = () => (\n    <h2>404 Not Found</h2>\n  )\n\n  return (\n    <div className=\"app\">\n      <Router>\n        <Switch>\n          <Route path=\"/\" exact>\n            <Login setUser={setUser} />\n          </Route>\n          <Route path=\"/register\">\n            <Register setUser={setUser} />\n          </Route>\n          <ProtectedRoute path=\"/chat\" exact user={user} setUser={setUser} messages={messages} /> {/* setUser en useCallback */}\n          {/* <Route path=\"/chat/:id\" component={HomeChat} messages={messages} /> */}\n          <Route path=\"*\" exact component={notFound} />\n        </Switch>\n      </Router>\n    </div>\n  );\n}\n\n\nexport default App;\n",["74","75"],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/serviceWorker.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/Register/Register.jsx",["76","77"],"import React, { useState, useEffect } from \"react\";\n//* React Router\nimport {useHistory} from 'react-router-dom';\n//* Firebase\nimport firebase from '../../firebase/config';\nimport {auth} from '../../firebase/config';\n\n\n\nfunction Register({ setUser }) {\n   //* Estado local para captura de datos en componente Register\n   const [inputFirstName, setInputFirstName] = useState(\"\");\n   const [inputLastName, setInputLastName] = useState(\"\");\n   const [confirmPassword, setConfirmPassword] = useState(\"\");\n   //{ Estados que se comparten entre los componentes Register y Login\n   const [inputEmail, setInputEmail] = useState(\"\");\n   const [inputPassword, setInputPassword] = useState(\"\");\n   //* Hooks\n   const history = useHistory();\n\n\n   //* Registro de usuario en Firebase con email y password\n   const registerUser = (e) => {\n      if(confirmPassword === inputPassword) {\n         e.preventDefault();\n            auth.createUserWithEmailAndPassword(inputEmail, inputPassword)\n               .then(\n                  userInfo => {\n                     updateUser();\n                     setInputFirstName(\"\");\n                     setInputLastName(\"\");\n                     setInputEmail(\"\");\n                     setInputPassword(\"\");\n                     setConfirmPassword(\"\");\n                     history.push(\"/chat\");          \n                  }\n               ).catch( error => {\n                  setInputPassword(\"\");\n                  setConfirmPassword(\"\");\n               });\n      } else {\n         e.preventDefault();\n         setInputPassword(\"\");\n         setConfirmPassword(\"\");\n         alert(`Sorry ${inputFirstName}, the confirmation of your password doesn't match your password`);\n      }\n   };\n\n   //* Actualización de nombre completo y perfil de usuario en Firebase\n   const updateUser = () => {\n      const user = firebase.auth().currentUser;\n      const photoURL = \"https://i.picsum.photos/id/491/200/200.jpg?hmac=Zi1sOp0NH_d3eOa3qUg8-oDQJWvIkH8UkrAJZ7l-4wg\"\n      //https://i.picsum.photos/id/738/200/200.webp?hmac=AaUZJdpXCcpULfGEoQqubLm8Kd0evV4VjwUnuM8BUqI\n      //Thomas Anderson\n      user.updateProfile({\n         displayName: `${inputFirstName} ${inputLastName}`,\n         photoURL\n         }).then(() => {\n            // console.log(userInfo);\n            const user = firebase.auth().currentUser;\n            setUser(user);\n            console.log(user);\n            console.log(\"Register: \", user.displayName);\n            // appRegister(user);\n         }).catch(error => {\n            console.log (`Register: ha ocurrido un error: ${error.message}`);\n         });\n   };\n\n   //* Registro del usuario en la aplicación\n   const appRegister = (user) => {\n      const urlRegister = `https://academlo-whats.herokuapp.com/api/v1/users`;\n      // const headers = {'Content-Type': 'application/json', 'Accept': 'application/json'};\n      const headers = {'Content-Type': 'application/json'};\n      const body = {\n         \"firstName\": inputFirstName,\n         \"lastName\": inputLastName,\n         \"email\": inputEmail,\n         \"username\": user.displayName,\n         \"photoUrl\": user.photoURL,\n         \"uid\": user.uid\n      }\n   \n      fetch(urlRegister, {\n      method: `POST`,\n      headers,\n      body: JSON.stringify(body)\n   })\n\n\n   };\n\n\n   //* Se guarda la captura de datos del usuario\n   const handleInputFirstNameChange = (e) => {\n      setInputFirstName(e.target.value);\n   };\n   const handleInputLastNameChange = (e) => {\n      setInputLastName(e.target.value);\n   };\n   const handleInputEmailChange = (e) => {\n      setInputEmail(e.target.value);\n   };\n   const handleInputPasswordChange = (e) => {\n      setInputPassword(e.target.value);\n   };\n\n   //* Confirmación del password\n   const handleConfirmPasswordChange = (e) => {\n      setConfirmPassword(e.target.value);\n   };\n\n\n   //* Componente Register\n   return (\n      <div>\n         <form onSubmit={registerUser} >\n            <h2>Register</h2>\n               <br/>\n            <label>First Name</label>\n            <input type=\"text\" value={inputFirstName} name=\"firstName\" onChange={handleInputFirstNameChange} required placeholder=\"My first name\"/>\n               <br/>\n            <label>Last Name</label>\n            <input type=\"text\" value={inputLastName} name=\"lastName\" onChange={handleInputLastNameChange} required placeholder=\"My last name\"/>\n               <br/>\n            <label>Email</label>\n            <input type=\"email\" value={inputEmail} name=\"email\" onChange={handleInputEmailChange} required placeholder=\"My email\"/>\n               <br/>\n            <label>Password</label>\n            <input type=\"password\" value={inputPassword} name=\"password\" onChange={handleInputPasswordChange} pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}\" title=\"Password must have 6 or more characters with at least 1 lowercase, 1 uppercase and 1 number.\" placeholder=\"Password\"/>\n               <br/>\n            <label>Confirm password</label>\n            <input type=\"password\" value={confirmPassword} name=\"confirmPassword\" onChange={handleConfirmPasswordChange} pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}\" title=\"Password must have 6 or more characters with at least 1 lowercase, 1 uppercase and 1 number.\" placeholder=\"Confirm password\"/>\n               <br/>\n            <button type=\"submit\">Register</button>\n         </form>\n      </div>\n   );\n}\n\nexport default Register;\n","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/Login/Login.jsx",["78"],"import React, { useState, useEffect, useCallback } from \"react\";\n//* React Router\nimport { Link, useHistory } from 'react-router-dom';\n//* Firebase\nimport firebase from '../../firebase/config';\nimport {auth} from '../../firebase/config';\n\n\n\nfunction Login({ setUser }) {\n   //{ Estados que se comparten entre los componentes Register y Login\n   const [inputEmail, setInputEmail] = useState(\"\");\n   const [inputPassword, setInputPassword] = useState(\"\");\n   //* Hooks\n   const history = useHistory();\n   //* Poveedor\n   const googleProvider = new firebase.auth.GoogleAuthProvider();\n\n\n   //* Al entrar a la aplicación después de montar Login revisa si ya hay usuario loggeado\n   useEffect(() => {\n      // componentDidMount\n      firebase.auth().onAuthStateChanged((user) => {\n         if (user) {\n            setUser(user);\n            history.push(\"/chat\");\n         }\n      });\n      // eslint-disable-next-line\n      }, []);\n\n\n   //* Se guarda la captura de datos del usuario\n   const handleInputEmailChange = (e) => {\n      setInputEmail(e.target.value);\n   };\n   const handleInputPasswordChange = (e) => {\n      setInputPassword(e.target.value);\n   };\n   \n   const loginUser = async (e) => { //! Login ejecuta ProtectedRoute 8 veces useCallback\n      try {\n         e.preventDefault();\n         const { user } = await auth.signInWithEmailAndPassword(inputEmail, inputPassword)\n         //Para actualizar el estado y redireccionar al usuario a otra pagina\n         // console.log(\"Login: user\");\n         // console.log(user);\n         await setUser(user);\n         history.push(\"/chat\");\n      } catch (error) {\n         setInputPassword(\"\");\n         //En caso de que las credenciales de acceso sean incorrectas\n         console.log(\"Error en la autenticacion: \", error.message);\n      }\n   };\n\n   \n   const showGooglePopup = async () => { //! Login ejecuta ProtectedRoute 8 veces useCallback\n      try {\n         let { user } = await firebase.auth().signInWithPopup(googleProvider);\n         //Para actualizar el estado y redireccionar al usuario a otra pagina\n         console.log(user);\n         await setUser(user);\n         history.push(\"/chat\");\n      } catch (error) {\n         //En caso de que las credenciales de acceso sean incorrectas\n         console.log(\"Error en la autenticacion: \", error.message);\n      }\n      };\n   \n   \n   const resetPassword = () => {\n      // Para redireccionar después de reestablecer la contraseña\n      const actionCodeSettings = {\n         url: `http://localhost:3000/`\n      };\n      //Método de Firebase para reestablecer contraseña con parámetro para redireccionar\n      auth.sendPasswordResetEmail(inputEmail, actionCodeSettings)\n         .then(() => {\n            alert(`Se ha enviado un correo ${inputEmail} para reestablecer la contraseña.`);\n         }).catch((error) => {\n            console.log(\"Error al solicitar reestablecer la contraseña: \", error.message);\n         });\n   }\n\n\n   //* Componente Login\n   return (\n      <div>\n         <form onSubmit={loginUser} >\n            <h2>Login</h2>\n               <br/>\n            <label>Email</label>\n            <input type=\"email\" value={inputEmail} name=\"email\" onChange={handleInputEmailChange} required placeholder=\"My email\"/>\n               <br/>\n            <label>Password</label>\n            <input type=\"password\" value={inputPassword} name=\"password\" onChange={handleInputPasswordChange} pattern=\"(?=.*\\d)(?=.*[a-z])(?=.*[A-Z]).{6,}\" title=\"Password must have 6 or more characters with at least 1 lowercase, 1 uppercase and 1 number.\" placeholder=\"Password\"/>\n               <br/>\n            <button type=\"submit\">Login</button>\n         </form>\n               <br />\n            <button onClick={showGooglePopup}>Login with Google</button>\n               <br />\n            <button onClick={resetPassword}>Reset Password</button>\n               <br />\n            <Link to=\"/register\">\n               <button>Register</button>\n            </Link>\n      </div>\n   );\n}\n\nexport default Login;\n","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/firebase/config.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Sidebar/Sidebar.js",["79"],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Chat/Chat.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Sidebar/SidebarChat/SidebarChat.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/ChatRoom.jsx",["80"],"import React, { useEffect } from \"react\";\n//* Componentes\nimport Sidebar from \"./Sidebar/Sidebar\";\nimport Chat from \"./Chat/Chat\";\n\nconst ChatRoom = ({ messages, user, setUser }) => {return (\n      <div className=\"app__body\">\n            <Sidebar user={user} />\n            <Chat messages={messages} setUser={setUser} />\n      </div>\n   );\n}\n\nexport default ChatRoom;\n","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ProtectedRoute.jsx",["81"],"import React, { useEffect } from \"react\";\nimport { Route } from \"react-router-dom\";\n//* Components\nimport ChatRoom from './ChatRoom/ChatRoom';\nimport Login from './Login/Login';\n\n\nexport default function ProtectedRoute({ path, user, setUser, children, messages }) {return (\n      <Route path={path}>\n         {\n            user ? \n            /* (children) : */\n            <ChatRoom messages={messages} user={user} setUser={setUser} /> :\n            (\n               <Login setUser={setUser} />\n            )\n         }\n      </Route>\n   );\n}\n","/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/components/ChatRoom/Sidebar/SidebarDropdown/SidebarDropdown.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/store.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/actionTypes.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/reducers/contactsReducer.js",[],"/home/alex/code/academlo/acad-Module2/react/acadMod2-proyectoFinal/proyecto-final/src/redux/actions/contactsActions.js",[],{"ruleId":"82","severity":1,"message":"83","line":1,"column":27,"nodeType":"84","messageId":"85","endLine":1,"endColumn":36},{"ruleId":"82","severity":1,"message":"86","line":18,"column":20,"nodeType":"84","messageId":"85","endLine":18,"endColumn":31},{"ruleId":"87","replacedBy":"88"},{"ruleId":"89","replacedBy":"90"},{"ruleId":"82","severity":1,"message":"83","line":1,"column":27,"nodeType":"84","messageId":"85","endLine":1,"endColumn":36},{"ruleId":"82","severity":1,"message":"91","line":71,"column":10,"nodeType":"84","messageId":"85","endLine":71,"endColumn":21},{"ruleId":"82","severity":1,"message":"92","line":1,"column":38,"nodeType":"84","messageId":"85","endLine":1,"endColumn":49},{"ruleId":"93","severity":1,"message":"94","line":51,"column":6,"nodeType":"95","endLine":51,"endColumn":8,"suggestions":"96"},{"ruleId":"82","severity":1,"message":"83","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":26},{"ruleId":"82","severity":1,"message":"83","line":1,"column":17,"nodeType":"84","messageId":"85","endLine":1,"endColumn":26},"no-unused-vars","'useEffect' is defined but never used.","Identifier","unusedVar","'setMessages' is assigned a value but never used.","no-native-reassign",["97"],"no-negated-in-lhs",["98"],"'appRegister' is assigned a value but never used.","'useCallback' is defined but never used.","react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'dispatch'. Either include it or remove the dependency array.","ArrayExpression",["99"],"no-global-assign","no-unsafe-negation",{"desc":"100","fix":"101"},"Update the dependencies array to be: [dispatch]",{"range":"102","text":"103"},[1893,1895],"[dispatch]"]